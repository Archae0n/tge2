# by cbshing
#	Example:
#
#	example_effect = {
#		add_energy = -100
#	}
#
#
#	In a script file:
#
#	effect = {
#		example_effect = yes
#	}
#

reset_start_buildings_and_blockers_voidborne = { #Selectively resets necessary tiles for Voidborne Civic users. Is triggered after "generate_start_buildings_and_blockers" by game_start.34
	# Find capitol and buildings, and then remove them
	# Set up a new capitol and nearby buildings
	random_tile = {
		limit = { has_blocker = no has_building = no num_adjacent_tiles > 3 }
		set_building = "building_hab_capital"
		set_deposit = d_rich_energy_deposit	
		random_neighboring_tile = {
			limit = { has_blocker = no has_building = no }
			set_building = "building_hab_agri_bay"
			set_deposit = d_rich_farmland_deposit						
		}
		random_neighboring_tile = {
			limit = { has_blocker = no has_building = no }
			set_building = "building_hab_agri_bay"
			set_deposit = d_rich_farmland_deposit						
		}
		random_neighboring_tile = {
			limit = { has_blocker = no has_building = no }
			set_building = "building_hab_solar_power_processor"
			set_deposit = d_rich_energy_deposit
		}
		random_neighboring_tile = {
			limit = { has_blocker = no has_building = no }
			set_building = "building_hab_astro_mining_facility"
			set_deposit = d_rich_mineral_deposit
		}
	}
	
	# Add the lab
	random_tile = {
		limit = { has_blocker = no has_building = no }
		set_building = "building_hab_laboratory_module"
		random_list = {
			33 = {
				set_deposit = d_engineering_deposit										
			}
			33 = { 
				set_deposit = d_society_deposit											
			}
			33 = { 
				set_deposit = d_physics_deposit											
			}					
		}	
	}
	# Add mine and power plant
	random_tile = {
		limit = { has_blocker = no has_building = no }
		set_building = "building_microgravity_fabricators"
		set_deposit = d_rich_mineral_deposit
	}
	random_tile = {
		limit = { has_blocker = no has_building = no }
		set_building = "building_isotope_refinery"
		set_deposit = d_rich_energy_deposit
	}
	# Add blockers
    random_tile = {
        limit = { has_blocker = no has_building = no has_pop = no }
        set_blocker = "tb_failing_infrastructure"
    }
    random_tile = {
        limit = { has_blocker = no has_building = no has_pop = no }
        set_blocker = "tb_failing_infrastructure"
    }
}
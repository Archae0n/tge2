######################
# Lost Empire Wargoals
######################

wg_total_annihilation = {
	casus_belli = cb_total_annihilation

	hide_if_no_cb = yes
	total_war = no
	
	surrender_acceptance = -1000
	war_exhaustion = 0.1
	
	set_defender_wargoal = wg_total_annihilation

	potential = {
		always = yes
	}
	possible = {
		always = yes
	}
	
	on_accept  = {
		hidden_effect = {
			save_event_target_as = Annihilator
			event_target:Annihilator = {
				country_event = { id = lost_empire.16 }
			}
			from = {
				save_event_target_as = Annihilated
				event_target:Annihilated = {
					country_event = { id = lost_empire.13 }
				}
				every_subject = {
					country_event = { id = lost_empire.14 }
					every_owned_planet = {
						destroy_colony = yes
					}
				}
				every_owned_planet = {
					destroy_colony = yes
					every_tile = {
						limit = { has_building = yes }
						remove_building = yes
					}
					every_owned_pop = {
						kill_pop = yes
					}
				}
				every_owned_fleet = {
					destroy_fleet = this
				}
			}
			every_playable_country = {
				limit = {
					NOR = {
						is_same_value = from
						is_same_value = root
					}
				}
				country_event = { id = lost_empire.10 }
			}	
		}
	}	
	
	on_status_quo = {
		
	}
	
	ai_weight = {
		weight = 200
	}
}

wg_banish_ascendancy = {
	casus_belli = cb_banish_ascendancy

	hide_if_no_cb = yes
	total_war = no
	
	surrender_acceptance = -100
	war_exhaustion = 0.1
	
	set_defender_wargoal = wg_banish_ascendancy

	potential = {
		always = yes
	}
	possible = {
		always = yes
	}
	
	on_accept  = {
		hidden_effect = {
			save_event_target_as = Banisher
			country_event = { id = lost_empire.15 }
			from = {
				save_event_target_as = Banished
				every_subject = {
					set_subject_of = {
						who = none
					}
				}
				set_subject_of = {
					who = event_target:Banisher
					subject_type = banished_ascendancy
				}				
				country_event = { id = lost_empire.1002 }
			}
			every_playable_country = {
				limit = {
					NOT = {
						is_same_value = root
						is_same_value = from
					}
				}
				country_event = { id = lost_empire.11 }
			}	
		}
	}	
	
	on_status_quo = {
		
	}
	
	ai_weight = {
		weight = 100
	}
}

wg_dismantle_ascendancy = {
	casus_belli = cb_dismantle

	hide_if_no_cb = yes
	
	surrender_acceptance = -1000
	
	defender_default = yes

	potential = {
		always = yes
	}
	possible = {
		always = yes
	}
	
	on_accept  = {
		hidden_effect = {
			if = {
				limit = {
					overlord = {
						is_country_type = lost_empire
						is_same_value = from
					}
				}
				set_subject_of = {
					who = none
				}
			}	
		}
	}	
	
	on_status_quo = {
		
	}
	
	ai_weight = {
		weight = 200
	}
}

